# Document Intelligence System Configuration
# Copy this file to .env and adjust values as needed
# cp .env.example .env

# === Core Paths ===
DATA_PATH=./data
INDEX_PATH=./indices
LOG_PATH=./logs

# === Database Configuration ===
POSTGRES_USER=docintell
POSTGRES_PASSWORD=docintell123
POSTGRES_DB=document_intelligence

# === Redis Configuration ===
REDIS_URL=redis://redis:6379
REDIS_TTL=3600
# WICHTIG: Für konsistente JSON-Verarbeitung
REDIS_DECODE_RESPONSES=true

# === API Configuration ===
API_HOST=0.0.0.0
API_PORT=8001
DEBUG=false

# === CORS Settings ===
CORS_ALLOW_ORIGIN=http://localhost:8080,http://localhost:5678
CORS_ALLOW_CREDENTIALS=false
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE
CORS_ALLOW_HEADERS=Content-Type,Authorization

# === N8N Configuration ===
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=changeme
N8N_ENCRYPTION_KEY=n8n-encryption-key-change-in-production
N8N_WEBHOOK_URL=http://localhost:5678/webhook/doc-webhook
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
GENERIC_TIMEZONE=Europe/Berlin
# Wichtig für N8N Funktionalität
N8N_RUNNERS_ENABLED=true
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=document_intelligence
DB_POSTGRESDB_USER=docintell
DB_POSTGRESDB_PASSWORD=docintell123

# === Ollama Configuration ===
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=mistral
OLLAMA_TIMEOUT=120
OLLAMA_KEEP_ALIVE=24h
OLLAMA_HOST=0.0.0.0

# === OCR Settings ===
TESSERACT_LANG=deu+eng
OCR_ENGINE=tesseract
OCR_DPI=300

# === Privacy & GDPR ===
ENABLE_PII_REMOVAL=true
ANONYMIZE_METADATA=true

# === Search Configuration ===
MIN_RELEVANCE_SCORE=0.3
MAX_SEARCH_RESULTS=50
SEMANTIC_SEARCH_ENABLED=true
CACHE_ENABLED=true
CACHE_TTL=3600

# === Learning Settings ===
ENABLE_LEARNING=true
LEARNING_UPDATE_INTERVAL=300
LEARNING_THRESHOLD=0.3

# === Performance ===
MAX_WORKERS=4
BATCH_SIZE=10

# === Open WebUI ===
WEBUI_SECRET_KEY=change-me-in-production
WEBUI_AUTH=false
ENABLE_SIGNUP=true
DEFAULT_MODELS=mistral,llama3,phi

# === System Settings ===
USER_AGENT=DocumentIntelligenceSystem/1.0
CHROMA_TELEMETRY=false
ANONYMIZED_TELEMETRY=false
LANGCHAIN_VERBOSE=false
LANGCHAIN_TRACING=false
TORCH_VERSION=2.1.0
PYTORCH_ENABLE_MPS_FALLBACK=1

# === Python Settings ===
PYTHONUNBUFFERED=1
PYTHONPATH=/app
